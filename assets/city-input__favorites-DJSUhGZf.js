(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();const y=document.querySelector(".viewed-city__favorites-container"),v=document.querySelector(".viewed-city__next"),g=document.querySelector(".viewed-city__prev");let s,c=0;const u=(e,t)=>{try{const n=JSON.stringify(t);localStorage.setItem(e,n)}catch(n){console.log(n)}},l=e=>{try{const t=localStorage.getItem(e);return t===null?void 0:JSON.parse(t)}catch(t){console.log(t)}},h=(e,t)=>{switch(!0){case e.length>4:v.classList.remove("hidden");break;default:v.classList.add("hidden");break}switch(!0){case t>0:g.classList.remove("hidden");break;default:g.classList.add("hidden");break}},m=()=>{setTimeout(Notify.failure("Location not found,try again later"),2e3)},w=e=>{switch(!0){case(e<500&&e>400):s=3;break;case e<400:s=2;break;default:s=4;break}},p=e=>({cityName:e,id:Math.floor(Math.random()*200+1)}),L=e=>{const t=p(e),n=l("orase");if(n===void 0)u("orase",[t]);else{const i=p(e);n.push(i),u("orase",n)}},b=(e,t)=>{if(e)return e.length>t?e.substring(0,t)+"...":e},a=()=>{const e=l("orase");if(e!==void 0){w(window.innerWidth),h(e,c),y.innerHTML="";const t=c*s,n=t+s;e.slice(t,n).forEach(r=>{const o=b(r.cityName,6),d=`<button class="viewed-city" type="button" value="${r.cityName}"data-id="${r.id}">
                                  ${o}
                                  <svg class="viewed-city__close-btn" data-id="${r.id}">
                                      <use href ="./city-input-icons.svg#icon-close"></use>
                                  </svg>
                              </button>`;y.insertAdjacentHTML("beforeend",d)})}},_=e=>{const t=l("orase");(e+1)*s<t.length&&(c++,a())},S=e=>{e>=1&&(c--,a(),console.log(c))},N=document.querySelector(".city-input__field"),k=document.querySelector(".star-icon"),q=document.querySelector(".viewed-city__favorites-container");let f;N.addEventListener("change",e=>{f=e.target.value});q.addEventListener("click",e=>{f=e.target.value});k.addEventListener("click",()=>{L(f),a()});const O=document.querySelector(".viewed-city__next"),E=document.querySelector(".viewed-city__prev"),P=document.querySelector(".viewed-city__favorites-container");window.addEventListener("resize",()=>{a()});O.addEventListener("click",()=>{_(c)});E.addEventListener("click",()=>{S(c)});P.addEventListener("click",e=>{const t=e.target.parentNode.dataset.id,n=l("orase");if(e.target.nodeName!=="use"&&e.target.nodeName!=="svg")return;const i=n.filter(r=>r.id!=t);u("orase",i),a()});document.querySelector(".location-icon").addEventListener("click",()=>{confirm("Would you like the browser to access your location?")?m():alert("Please select a city")});a();export{f as i};
//# sourceMappingURL=city-input__favorites-DJSUhGZf.js.map
